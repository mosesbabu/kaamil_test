{% extends 'base.html' %}

{% block title %}Childminder Registration - Ready Kids{% endblock %}

{% block extra_css %}
<style>
    /* Paste the specific styles from the original HTML here, 
       or simpler: we'll stick to the original HTML structure mainly 
       and just wrap forms. 
       For this MVP, I will include the critical CSS from the provided file 
       to ensure it looks right. 
    */
    /* ... (CSS from original file would go here, simplified for brevity) ... */
    .form-container {
        background: white;
        padding: 2rem;
        border-radius: 8px;
        box-shadow: var(--shadow-md);
        max-width: 800px;
        margin: 0 auto;
    }

    .form-section {
        margin-bottom: 2rem;
        border-bottom: 1px solid var(--rk-border);
        padding-bottom: 2rem;
    }

    .form-section:last-child {
        border-bottom: none;
    }

    .section-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--rk-primary);
        margin-bottom: 1rem;
    }

    .field {
        margin-bottom: 1rem;
    }

    .field-label {
        display: block;
        font-weight: 500;
        margin-bottom: 0.5rem;
    }

    .input,
    .textarea,
    .select {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid var(--rk-border);
        border-radius: 4px;
    }

    .btn-primary {
        background: var(--rk-primary);
        color: white;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-weight: 600;
    }

    .btn-primary:hover {
        background: var(--rk-primary-dark);
    }

    .errorlist {
        color: var(--rk-error);
        list-style: none;
        padding: 0;
        margin-top: 0.25rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="form-container">
    <h1>Childminder Registration</h1>

    <form method="post" novalidate>
        {% csrf_token %}

        <!-- Section 1: Personal Details -->
        <div class="form-section">
            <h2 class="section-title">Personal Details</h2>
            {{ personal_form.as_p }}
        </div>

        <!-- Section 2: Address History -->
        <div class="form-section">
            <h2 class="section-title">Address History</h2>
            {{ address_formset.management_form }}
            {% for form in address_formset %}
            <div class="address-entry">
                {{ form.as_p }}
            </div>
            {% endfor %}
        </div>

        <!-- Section 3: Premises -->
        <div class="form-section">
            <h2 class="section-title">Premises</h2>
            {{ premises_form.as_p }}
        </div>

        <!-- Section 4: Service -->
        <div class="form-section">
            <h2 class="section-title">Childcare Service</h2>
            {{ service_form.as_p }}
        </div>

        <!-- Section 5: Training -->
        <div class="form-section">
            <h2 class="section-title">Training</h2>
            {{ training_form.as_p }}
        </div>

        <!-- Section 6: Employment -->
        <div class="form-section">
            <h2 class="section-title">Employment History</h2>
            {{ employment_formset.management_form }}
            {% for form in employment_formset %}
            <div class="employment-entry">
                {{ form.as_p }}
            </div>
            {% endfor %}
        </div>

        <!-- Section 7: Household -->
        <div class="form-section">
            <h2 class="section-title">Household Members</h2>
            {{ household_formset.management_form }}
            {% for form in household_formset %}
            <div class="household-entry">
                {{ form.as_p }}
            </div>
            {% endfor %}
        </div>

        <!-- Section 8: Suitability -->
        <div class="form-section">
            <h2 class="section-title">Suitability</h2>
            {{ suitability_form.as_p }}
        </div>

        <!-- Section 9: Declaration -->
        <div class="form-section">
            <h2 class="section-title">Declaration</h2>
            {{ declaration_form.as_p }}
        </div>

        <button type="submit" class="btn-primary">Submit Application</button>
    </form>
</div>
{% endblock %}